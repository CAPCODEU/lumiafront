<div id="history-sidebar-container">
  <div id="logo-section">
    <svg class="logo-fill" width="60" height="60" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="44" height="44" rx="22"/>
      <path d="M27.5 23L26.7155 24.5689C26.4501 25.0999 26.3173 25.3654 26.14 25.5954C25.9826 25.7996 25.7996 25.9826 25.5954 26.14C25.3654 26.3173 25.0999 26.4501 24.5689 26.7155L23 27.5L24.5689 28.2845C25.0999 28.5499 25.3654 28.6827 25.5954 28.86C25.7996 29.0174 25.9826 29.2004 26.14 29.4046C26.3173 29.6346 26.4501 29.9001 26.7155 30.4311L27.5 32L28.2845 30.4311C28.5499 29.9001 28.6827 29.6346 28.86 29.4046C29.0174 29.2004 29.2004 29.0174 29.4046 28.86C29.6346 28.6827 29.9001 28.5499 30.4311 28.2845L32 27.5L30.4311 26.7155C29.9001 26.4501 29.6346 26.3173 29.4046 26.14C29.2004 25.9826 29.0174 25.7996 28.86 25.5954C28.6827 25.3654 28.5499 25.0999 28.2845 24.5689L27.5 23Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M19 12L17.8214 15.0644C17.5394 15.7976 17.3984 16.1643 17.1791 16.4726C16.9847 16.746 16.746 16.9847 16.4726 17.1791C16.1643 17.3984 15.7976 17.5394 15.0644 17.8214L12 19L15.0644 20.1786C15.7976 20.4606 16.1643 20.6016 16.4726 20.8209C16.746 21.0153 16.9847 21.254 17.1791 21.5274C17.3984 21.8357 17.5394 22.2024 17.8214 22.9356L19 26L20.1786 22.9356C20.4606 22.2024 20.6016 21.8357 20.8209 21.5274C21.0153 21.254 21.254 21.0153 21.5274 20.8209C21.8357 20.6016 22.2024 20.4606 22.9356 20.1786L26 19L22.9356 17.8214C22.2024 17.5394 21.8357 17.3984 21.5274 17.1791C21.254 16.9847 21.0153 16.746 20.8209 16.4726C20.6016 16.1643 20.4606 15.7976 20.1786 15.0644L19 12Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <h2 id="app-title">LumIA</h2>
  </div>
  <div id="history-search-section">
    <div id="searchBar">
      <lucide-icon [img]="SearchIcon" class="search-icon"></lucide-icon>
      <input
        name="search"
        class="search-input"
        type="text"
        placeholder="Rechercher..."
        [(ngModel)]="searchQuery"
        (input)="doSearch()"
      />
    </div>
  </div>
  <div id="history-list-section">
    <div id="history-list-header">
      <p>Historique</p>
      <button id="options-button" (click)="openOptions()">
        <lucide-icon [img]="EllipsisIcon" class="option-icon"></lucide-icon>
      </button>
    </div>
    <div id="history-list">
      @for (conversation of userConversations; track conversation) {
        <div
          class="history-item"
          [class.selected]="conversation.id === selectedConversationId"
          (click)="selectConversation(conversation.id)"
        >
          <div class="conversation-title">
            {{ conversation.title }}
          </div>
        </div>
      }
    </div>
  </div>
</div>
